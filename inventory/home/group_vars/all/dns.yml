---
base_domain: home.nephelai.io
dns_zones:
  management:
    name: "{{ base_domain }}"
    hostmaster: "master@{{ base_domain }}"
    ns: "{{ groups['pdns_servers'] }}"
    records: []
    cnames: []
  tnemeganam:
    name: "{{ nets.management.zone }}"
    hostmaster: "master@{{ base_domain }}"
    ns: "{{ groups['pdns_servers'] }}"
    records: []
    cnames: []
  exp:
    name: "{{ nets.pxe.zone }}"
    hostmaster: "master@{{ base_domain }}"
    ns: "{{ groups['pdns_servers'] }}"
    records: []
    cnames: []

pdns_url: "https://pdns.home.nephelai.io"
pdns_api_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66313166386639363530353439643139313562366363613863363763393430373962663865353263
          6262343638626637306130633161323337623734303239660a356635616166643839356231666639
          31626537396162633137363761313666393230353734383733376237366532633038343935623534
          6436393862363232330a613139643264653265373166306537373237333761623935383466616465
          62366434643236313636306338303232336236316539363432613038333234633030353439303634
          6164343165656338316334323632643733363636653537326436
pdns_recursor_resolv_domain: "{{ base_domain }}"
pdns_recursors: "{{ groups['pdns_recursors'] }}"
pdns_rec_api_key: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  61323735396561396338663331343138633261663665373561346531613934373530633761613262
  3330313534393730313039336232386131343036623735330a616436396437376630313831393762
  63626362646639363037363933383531656235663263613036666130623131333662646138303536
  3539363463366238370a333435613664333934316564663566653936616661316337363932396435
  31623932636437396466353863616636323039363531366439623737396530393464
pdns_psql_user: foreman
pdns_psql_pass: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  62356665306363363932656435353535623461303536346333613731373236356332663965653565
  3839333766333038363832623736376539356164313633390a383263346164353132353631326637
  33643863653631663634353831653833663064306562656531666530373363633837343365616431
  3630633265313830300a386366353232646164346365336533323735366434396131353563626338
  37303865643532393132316630616531323363353531353762373739356231623031
pdns_domains: "{{ dns_zones.values() | map(attribute='name') | list }}"
pdns_master_ips: "{{ hostvars.values() | selectattr('pdns_master', 'defined') | selectattr('pdns_master', 'equalto', True) | map(attribute='ansible_host') | list }}"

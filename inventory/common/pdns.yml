---
# pdns api url
pdns_url: "https://pdns.{{ base_domain }}"

# toggle to force registration of host fqdns to pdns host
pdns_register_state: "{{ kvm_state | default('present') }}"

# default domain for resolvers
pdns_recursor_resolv_domain: "{{ base_domain }}"

# list of resolvers
pdns_recursors: "{{ groups['pdns_recursors'] }}"

# pdns server db user
pdns_psql_user: pdns

# pdns server ips
pdns_master_ips: "{{ hostvars.values() | selectattr('pdns_master', 'defined') | selectattr('pdns_master', 'equalto', True) | map(attribute='ansible_host') | list }}"

# pdns api key
pdns_rec_api_key: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  61323735396561396338663331343138633261663665373561346531613934373530633761613262
  3330313534393730313039336232386131343036623735330a616436396437376630313831393762
  63626362646639363037363933383531656235663263613036666130623131333662646138303536
  3539363463366238370a333435613664333934316564663566653936616661316337363932396435
  31623932636437396466353863616636323039363531366439623737396530393464

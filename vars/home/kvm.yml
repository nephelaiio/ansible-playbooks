---
kvm_nolog: no
kvm_images:
  xenial:
    src: https://cloud-images.ubuntu.com/xenial/current/xenial-server-cloudimg-amd64-disk1.img
    checksum: sha256:8831c16f1739296f92e5e5a880d35ccc1f32be5d1cd61e52f73047a88220133d
    url: "{{ archive_url }}/{{ kvm_mirror_dir }}/xenial-server-cloudimg-amd64-disk1.img"
    pool: default
    format: qcow2
  bionic:
    src: https://cloud-images.ubuntu.com/bionic/current/bionic-server-cloudimg-amd64.img
    checksum: sha256:7c664f81a6bd825f529e58697d45cc5023837280b3dc953e8c5e954e1c62aab2
    url: "{{ archive_url }}/{{ kvm_mirror_dir }}/bionic-server-cloudimg-amd64.img"
    pool: default
    format: qcow2

kvm_profiles:
  default:
    state: present  # present | recreate | absent
    memory: 2048
    cpu: 2
    image: xenial
    autostart: True
    size: 10G
    pool: default
    nic:
      method: dhcp
      name: enp0s3
      type: bridge
      net: br1
      prefix: "{{ nets.kvm.netmask }}"
      gateway: "{{ nets.kvm.router }}"
      nameservers: "{{ nets.kvm.ns }}"
      namesearch: "{{ dns.search_domains }}"

kvm_pools:
  default:
    path: /var/lib/libvirt/images
    state: present
    autostart: True

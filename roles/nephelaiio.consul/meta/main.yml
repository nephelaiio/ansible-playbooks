---
galaxy_info:
  author: Ted Cook

  license: MIT

  min_ansible_version: 2.8

  platforms:
    - name: CentOS
      versions:
      - 7
    - name: Ubuntu
      versions:
      - 18.04

  galaxy_tags:
    - traefik
    - consul

dependencies:
  - role: brianshumate.consul
    vars:
      consul_domain: "consul.{{ consul_service_domain }}"
      consul_client_address: "0.0.0.0"
      consul_node_role: server
      consul_bootstrap_expect: yes
      consul_dnsmasq_enable: yes
      consul_install_upgrade: yes
      consul_autopilot_enable: yes
      consul_autopilot_cleanup_dead_servers: yes
      consul_enable_local_script_checks: yes
      consul_user: consul
      consul_data_path: /var/consul

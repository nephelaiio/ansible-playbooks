---
- include_vars: "{{ item }}"
  with_first_found:
    - "vars/{{ ansible_distribution }}-{{ ansible_distribution_major_version }}.yml"
    - "vars/{{ ansible_distrubition }}.yml"
    - "vars/{{ ansible_os_family }}.yml"
    - "vars/default.yml"
  when: rsync_packages is not defined
  tags:
    - rsync

- name: install rsync package
  package: >
    name={{ item }} 
    state=latest
  with_items:
    - "{{ rsync_packages }}"
  become: yes
  tags:
    - rsync

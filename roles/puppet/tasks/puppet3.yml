---
- name: Install puppetlabs yum repository
  yum: >
    name="https://yum.puppetlabs.com/puppetlabs-release-el-{{ ansible_distribution_major_version }}.noarch.rpm"
  become: yes
  when:
    ansible_os_family == "RedHat"

- name: install puppet yum server packages
  yum: >
    name=puppet-server
  become: yes

- name: install puppet yum client packages
  yum: >
    name=puppet
  become: yes

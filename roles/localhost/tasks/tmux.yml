---
- name: install tmux apt package
  apt: >
    name={{ item }} 
    state=latest
  with_items:
    - tmux
  become: yes
  when: 
    ansible_distribution == "Ubuntu"

- name: install tmux yum package
  yum: >
    name={{ item }} 
    state=latest
  with_items:
    - tmux
  become: yes
  when: 
    ansible_distribution == "CentOS"

- name: create tmux plugin directory
  file: >
    path={{ tmuxplugins }}
    state=directory

- name: install tmux plugin manager 
  git: >
    repo=https://github.com/tmux-plugins/tpm.git
    dest="{{ tmuxplugins }}/tpm"

- name: configure tmux
  template:
    src=tmux.conf
    dest={{ tmuxconf }}

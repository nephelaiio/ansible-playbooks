# Start an ordinary shell
set-option -g default-command /bin/bash
set-option -g default-shell /bin/bash

# Set the prefix to C-b
set   -g  prefix                C-b
bind  C-b send-prefix

# Disable the status bar
set -g status off

# Set the delay between prefix and command
set   -s  escape                1

# Set the base index for windows and panes
set   -g  base-index            1
setw  -g  pane-base-index       1

# Set kill-session shortcut
bind \    kill-session

# Bind configuration reload to PREFIX-r
bind  r   source-file           {{ tmux_conf }} \; display "Reloaded {{ tmux_conf }}"

# Killing panes and windows
bind  x   confirm               kill-pane

# Enable pane synchronization
bind  C-s set-window-option     synchronize-panes

# Enable vi keys for visual mode
setw  -g  mode-keys             vi

# List of plugins
set   -g  @plugin               'tmux-plugins/tpm'
set   -g  @plugin               'tmux-plugins/tmux-sensible'
set   -g  @plugin               'seebi/tmux-colors-solarized'
set   -g  @plugin               'tmux-plugins/tmux-pain-control'
set   -g  @plugin               'tmux-plugins/tmux-copycat'
set   -g  @plugin               'tmux-plugins/tmux-yank'

# Configure version specific settings
## version 2.0 and older
if-shell "[[ \"`tmux -V | cut -d ' ' -f 2`\" < \"2.1\" ]]" 'source ~/{{ tmux_conf_20 }}'
## version 2.1
if-shell "[[ \"`tmux -V | cut -d ' ' -f 2`\" > \"2.0\" ]]" 'source ~/{{ tmux_conf_21 }}'

# Initialize TMUX plugin manager
run '~/{{ tmux_plugins }}/tpm/tpm'

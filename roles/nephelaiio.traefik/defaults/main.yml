---
# traefik_service_domain
traefik_release: 1.7.18
traefik_update: yes
traefik_acme_directory: "https://acme-v02.api.letsencrypt.org/directory"
traefik_prefix: traefik
traefik_config_file: /etc/traefik.toml
traefik_dashboard_address: 127.0.0.1
traefik_dashboard_port: 8080
traefik_service_name: traefik
traefik_config:
  checknewversion: "true"
  keeptrailingslash: "true"
  loglevel: INFO
  traefiklog:
    filepath: "/var/log/traefik.log"
    format: json
  accesslog:
    filepath: "/var/log/traefik.access.log"
    format: json
  defaultentrypoints:
    - https
  entrypoints:
    http:
      address: ":80"
      redirect:
        entrypoint: "https"
    https:
      address: ":443"
      tls:
        minversion: "VersionTLS12"
    traefik:
      address: ":{{ traefik_dashboard_port }}"
  api:
    dashboard: "true"
    debug: "true"
    entrypoint: traefik
  ping:
    entrypoint: http
  acme:
    email: "acme@{{ traefik_service_domain }}"
    caserver: "{{ traefik_acme_directory }}"
    entrypoint: https
    acmeLogging: "true"
    storage: "{{ traefik_prefix }}/acme/account"
    onhostrule: "true"
    ondemand: "true"
    httpchallenge:
      entrypoint: http

consul_client_host: localhost
consul_acl_master_token: "{{ consul_master_token }}"
traefik_systemd_envfile: /etc/default/traefik

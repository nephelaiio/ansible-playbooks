---
- include_vars: "{{ item }}"
  with_first_found:
    - "vars/{{ ansible_distribution }}-{{ ansible_distribution_major_version }}.yml"
    - "vars/{{ ansible_distrubition }}.yml"
    - "vars/{{ ansible_os_family }}.yml"
    - "vars/default.yml"
  when: git_packages is not defined

- name: install and configure git
  package: >
    name={{ item }} 
    state=latest
  with_items:
    - "{{ git_packages }}"
  become: yes
  tags:
    - git

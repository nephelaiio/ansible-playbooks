---
kvm:
  bridge_config: "/etc/sysctl.d/bridge.conf"
  defaults:
    vm:
      state: present # | recreate | absent
      memory: 2048
      cpu: 1
      image: xenial
      autostart: True
      size: 10G
      pool: default
    pool:
      state: present
      autostart: True
  vms:
    - name: dhcp02
      state: absent
    - name: kvma
      state: present
      nic:
        name: eth0
        type: bridge
        net: br0
        mac: 52:54:00:94:37:21
        address: 192.168.0.12
        netmask: 255.255.255.0
        gateway: 192.168.0.1
  pools:
    default:
      path: /var/lib/libvirt/images
  images:
    xenial:
      src: https://cloud-images.ubuntu.com/xenial/current/xenial-server-cloudimg-amd64-disk1.img
      img: xenial.img
      pool: default
      format: qcow2
      checksum: 089bbe2426bebdd860b755022a01d346

  
nets:
  home:
    subnet: 192.168.0.0/24
    router: 192.168.0.1
    comment: home network
    primary: 
    pools:
      comment: default pool
      range: 192.168.0.65 192.168.0.127
      options: |
        ddns-domainname = "{{ dns.home.name }}";

dns:
  zones:
    home:
      name: home.nephelai.io
      mx:
        - name: rpia.home.nephelai.io
      ns:
        - name: rpia.home.nephelai.io
      hosts:
        - hostname: cerberus.home.nephelai.io
          address: 192.168.0.11
          ethernet: ae:77:35:db:a0:17
        - hostname: rpia.home.nephelai.io
          address: 192.168.0.10
          ethernet: b8:27:eb:10:54:87
        - hostname: rpib.home.nephelai.io
          address: 192.168.0.116
          ethernet: b8:27:eb:40:6b:19
